(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06bbbf25"],{"1daf":function(e,t,a){},"5e71":function(e,t,a){"use strict";var l=a("1daf"),n=a.n(l);n.a},db0d:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{"label-width":"130px","label-position":"right"}},[a("el-collapse",{model:{value:e.active_collapse,callback:function(t){e.active_collapse=t},expression:"active_collapse"}},[a("el-collapse-item",{attrs:{name:"collapse-item-com"}},[a("template",{slot:"title"},[a("div",[a("h4",[e._v("企业/个体工商户")])])]),e._v(" "),a("el-form-item",{attrs:{label:"简称"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入简称"},model:{value:e.merchant.name,callback:function(t){e.$set(e.merchant,"name",t)},expression:"merchant.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"全称"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入全称"},model:{value:e.merchant.fullname,callback:function(t){e.$set(e.merchant,"fullname",t)},expression:"merchant.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"行业"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入行业"},model:{value:e.merchant.profession,callback:function(t){e.$set(e.merchant,"profession",t)},expression:"merchant.profession"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经营类目"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入经营类目"},model:{value:e.merchant.businecate,callback:function(t){e.$set(e.merchant,"businecate",t)},expression:"merchant.businecate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入统一社会信用代码"},model:{value:e.merchant.code,callback:function(t){e.$set(e.merchant,"code",t)},expression:"merchant.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册地址"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入注册地址"},model:{value:e.merchant.address_register,callback:function(t){e.$set(e.merchant,"address_register",t)},expression:"merchant.address_register"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际经营地址"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入实际经营地址"},model:{value:e.merchant.address_actual,callback:function(t){e.$set(e.merchant,"address_actual",t)},expression:"merchant.address_actual"}})],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"collapse-item-linkman"}},[a("template",{slot:"title"},[a("div",[a("h4",[e._v("联系人")])])]),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:e.merchant.link_man,callback:function(t){e.$set(e.merchant,"link_man",t)},expression:"merchant.link_man"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入联系电话"},model:{value:e.merchant.link_phone,callback:function(t){e.$set(e.merchant,"link_phone",t)},expression:"merchant.link_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"email"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入email"},model:{value:e.merchant.link_email,callback:function(t){e.$set(e.merchant,"link_email",t)},expression:"merchant.link_email"}})],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"collapse-item-legalman"}},[a("template",{slot:"title"},[a("div",[a("h4",[e._v("法定代表人")])])]),e._v(" "),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入证件类型"},model:{value:e.merchant.legal_id_type,callback:function(t){e.$set(e.merchant,"legal_id_type",t)},expression:"merchant.legal_id_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件号码"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入证件号码"},model:{value:e.merchant.legal_id_no,callback:function(t){e.$set(e.merchant,"legal_id_no",t)},expression:"merchant.legal_id_no"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件有效期"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入证件有效期"},model:{value:e.merchant.legal_id_indate,callback:function(t){e.$set(e.merchant,"legal_id_indate",t)},expression:"merchant.legal_id_indate"}})],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"collapse-item-bank"}},[a("template",{slot:"title"},[a("div",[a("h4",[e._v("结算账户")])])]),e._v(" "),a("el-form-item",{attrs:{label:"账户类型"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入账户类型"},model:{value:e.merchant.bank_account_type,callback:function(t){e.$set(e.merchant,"bank_account_type",t)},expression:"merchant.bank_account_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户银行"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入开户银行"},model:{value:e.merchant.bank_name,callback:function(t){e.$set(e.merchant,"bank_name",t)},expression:"merchant.bank_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户名称"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入开户名称"},model:{value:e.merchant.bank_account_name,callback:function(t){e.$set(e.merchant,"bank_account_name",t)},expression:"merchant.bank_account_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结算账号"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入结算账号"},model:{value:e.merchant.bank_account_no,callback:function(t){e.$set(e.merchant,"bank_account_no",t)},expression:"merchant.bank_account_no"}})],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"collapse-item-files"}},[a("template",{slot:"title"},[a("div",[a("h4",[e._v("上传资料")])])]),e._v(" "),a("el-upload",{attrs:{action:e.file_upload_url,"list-type":"picture","file-list":e.merchant.files,"on-preview":e.handleFilePreview,"on-success":e.handleFileUploaded,"on-remove":e.handleFileRemove,multiple:"",drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload-text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.upfiles_desc))])]),e._v(" "),a("el-dialog",{attrs:{visible:e.file_dialog_visible},on:{"update:visible":function(t){e.file_dialog_visible=t}}},[a("img",{attrs:{width:"100%",src:e.file_dialog_url}})])],2)],1),e._v(" "),e.editable?[a("el-divider"),e._v(" "),a("el-row",[a("el-col",{attrs:{md:4,offset:8}},[a("el-button",{attrs:{disabled:e.ajax,type:"primary"},on:{click:e.doSubmit}},[e._v("保存")])],1)],1)]:e._e()],2)],1)},n=[],i=(a("7f7f"),a("b775")),s=a("4328"),c=a.n(s);function r(){return Object(i["a"])({url:"/merchant/get-info",method:"get"})}function o(e){return Object(i["a"])({url:"/merchant/save",method:"post",data:c.a.stringify(e)})}var m={link_man:"",link_phone:"",link_email:"",name:"",fullname:"",profession:"",businecate:"",code:"",address_register:"",address_actual:"",legal_id_type:"身份证",legal_id_no:"",legal_id_indate:"",bank_account_type:"对公账户",bank_name:"",bank_account_name:"",bank_account_no:"",files:[]},p={name:"informationMerchant",data:function(){return{merchant:Object.assign({},m),upfiles_desc:"只能上传图片。",file_dialog_visible:!1,file_dialog_url:"",file_upload_url:"/hosts/files/public/upload/image/merchant-files",editable:!1,ajax:!1,active_collapse:["collapse-item-com","collapse-item-linkman","collapse-item-legalman","collapse-item-bank","collapse-item-files"]}},created:function(){this.fetchData()},methods:{handleFilePreview:function(e){this.file_dialog_url=e.url,this.file_dialog_visible=!0},handleFileUploaded:function(e,t,a){for(var l in this.merchant.files=a,this.merchant.files)if(!this.merchant.files[l].fileid&&this.merchant.files[l].response){var n=this.merchant.files[l].response.fileid,i=this.merchant.files[l].response.url,s=this.merchant.files[l].response.name;this.merchant.files[l].fileid=n,this.merchant.files[l].url=i,this.merchant.files[l].name=s}console.log(this.merchant.files)},handleFileRemove:function(e,t){console.log("preremove:",this.merchant.files),this.merchant.files=t,console.log("afterremove:",this.merchant.files)},fetchData:function(){var e=this;this.ajax=!0,r().then(function(t){e.merchant=t.data,e.editable=t.editable,e.ajax=!1}).catch(function(t){console.log(t),e.ajax=!1})},doSubmit:function(){var e=this;this.ajax=!0,o(this.merchant).then(function(t){e.$message({message:t.message,showClose:!0}),e.ajax=!1}).catch(function(t){e.ajax=!1})}}},h=p,d=(a("5e71"),a("2877")),_=Object(d["a"])(h,l,n,!1,null,null,null);t["default"]=_.exports}}]);